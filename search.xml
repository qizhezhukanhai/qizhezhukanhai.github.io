<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Storyboard跳转与传值</title>
      <link href="/2019/05/10/Storyboard%E8%B7%B3%E8%BD%AC%E4%B8%8E%E4%BC%A0%E5%80%BC/"/>
      <url>/2019/05/10/Storyboard%E8%B7%B3%E8%BD%AC%E4%B8%8E%E4%BC%A0%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<p>最近学习了一下使用Storyboard实现页面跳转已经传值 总结一下</p><h3 id="Storyboard跳转"><a href="#Storyboard跳转" class="headerlink" title="Storyboard跳转"></a>Storyboard跳转</h3><h4 id="1单纯的Storyboard页面跳转"><a href="#1单纯的Storyboard页面跳转" class="headerlink" title="1单纯的Storyboard页面跳转"></a>1单纯的Storyboard页面跳转</h4><p>新建项目 如图：<br><img src="/2019/05/10/Storyboard跳转与传值/1.png" alt="图片"></p><p>打开Main.storyboard文件 添加Navigation Controller</p><p><img src="/2019/05/10/Storyboard跳转与传值/2.png" alt="图片"></p><p>在Main.Storyboard新建一个View Controller</p><p><img src="/2019/05/10/Storyboard跳转与传值/3.png" alt="图片"></p><p>在现有的两个 Controller 中添加button 和label 并且右键button连线要跳转的Controller 如图:</p><p><img src="/2019/05/10/Storyboard跳转与传值/4.png" alt="图片"></p><p>选择push<br><img src="/2019/05/10/Storyboard跳转与传值/5.png" alt="图片"></p><p>这时候两个Controller中间会出现连线<br><img src="/2019/05/10/Storyboard跳转与传值/6.png" alt="图片"></p><p>运行查看效果<br><img src="/2019/05/10/Storyboard跳转与传值/QQ20190510-163623-HD.gif" alt="图片"></p><h4 id="2配合代码跳转"><a href="#2配合代码跳转" class="headerlink" title="2配合代码跳转"></a>2配合代码跳转</h4><p>同样 新建项目<br>添加Navigation Controller<br>Main.Storyboard新建一个View Controller<br>添加button 和label 但不连线<br>(这里略过)</p><p>新建一个TestViewController 继承UIViewController</p><p><img src="/2019/05/10/Storyboard跳转与传值/7.png" alt="图片"></p><p>将带按钮的Controller Class设置为TestViewController</p><p><img src="/2019/05/10/Storyboard跳转与传值/8.png" alt="图片"></p><p>将两个页面连线。注意。这里不是按钮连线 是页面的连线</p><p><img src="/2019/05/10/Storyboard跳转与传值/9.png" alt="图片"></p><p>选择push<br><img src="/2019/05/10/Storyboard跳转与传值/10.png" alt="图片"></p><p>选择生成的连线设置 Identifier为page2_id，代码部分会用到<br><img src="/2019/05/10/Storyboard跳转与传值/13.png" alt="图片"></p><p>button 连线点击方法<br><img src="/2019/05/10/Storyboard跳转与传值/11.png" alt="图片"></p><p>在button的点击方法中 根据设置好的 Identifier 进行跳转<br><img src="/2019/05/10/Storyboard跳转与传值/12.png" alt="图片"></p><p>一样可以实现页面的跳转</p><h3 id="Storyboard传值"><a href="#Storyboard传值" class="headerlink" title="Storyboard传值"></a>Storyboard传值</h3><h4 id="1利用prepareForSegue方法跳转传值"><a href="#1利用prepareForSegue方法跳转传值" class="headerlink" title="1利用prepareForSegue方法跳转传值"></a>1利用prepareForSegue方法跳转传值</h4><p>首页请在前文 配合代码跳转 实现的基础上进行操作</p><p>这时候文件结构 和Main.storyboard结构如下<br><img src="/2019/05/10/Storyboard跳转与传值/14.png" alt="图片"></p><p>点击页面之间的连线 修改Identifier为sendContent<br><img src="/2019/05/10/Storyboard跳转与传值/15.png" alt="图片"></p><p>并且修改按钮点击方法中的代码 identifier为sendContent</p><p><img src="/2019/05/10/Storyboard跳转与传值/16.png" alt="图片"></p><p>在第一个页面对应的Controller中添加(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender 方法 并根据设置的identifier进行判断传值即可。注意。这里不用重复写跳转代码了。因为按钮的的点击事件中写了<br><img src="/2019/05/10/Storyboard跳转与传值/16.png" alt="图片"></p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span> <span class="token punctuation">(</span>IBAction<span class="token punctuation">)</span>goAction<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>    <span class="token punctuation">[</span><span class="token keyword">self</span> performSegueWithIdentifier<span class="token punctuation">:</span><span class="token string">@"sendContent"</span> sender<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>prepareForSegue<span class="token punctuation">:</span><span class="token punctuation">(</span>UIStoryboardSegue <span class="token operator">*</span><span class="token punctuation">)</span>segue sender<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>segue<span class="token punctuation">.</span>identifier isEqualToString<span class="token punctuation">:</span><span class="token string">@"sendContent"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        TestViewController <span class="token operator">*</span>controller <span class="token operator">=</span> segue<span class="token punctuation">.</span>destinationViewController<span class="token punctuation">;</span>        controller<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">@"菠菜"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>TestViewController 中 定义变量接收。打出log验证即可</p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Do any additional setup after loading the view.</span>    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"name = %@ "</span><span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>效果如图：<br><img src="/2019/05/10/Storyboard跳转与传值/acc17776ae0ea48eb36ed35d5f50a545.gif" alt="图片"></p><h4 id="2利用Storyboard-Id跳转传值"><a href="#2利用Storyboard-Id跳转传值" class="headerlink" title="2利用Storyboard Id跳转传值"></a>2利用Storyboard Id跳转传值</h4><p>参考前文内容 新建项目。新建两个Controller<br>Main.storyboard 中  添加Navigation Controller 设置对应的class 但是不进行连线<br>效果如图：</p><p><img src="/2019/05/10/Storyboard跳转与传值/18.png" alt="图片"></p><p>设置要跳向的页面TestViewController 的Storyboard Id为 IdTest<br><img src="/2019/05/10/Storyboard跳转与传值/18.png" alt="图片"></p><p>给ViewController中的按钮绑定点击方法。直接利用 storyboard Id获取controller进行push跳转 并传值</p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token keyword">@interface</span> <span class="token function">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">@end</span><span class="token keyword">@implementation</span> ViewController<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Do any additional setup after loading the view, typically from a nib.</span><span class="token punctuation">}</span><span class="token operator">-</span> <span class="token punctuation">(</span>IBAction<span class="token punctuation">)</span>action<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>    UIStoryboard <span class="token operator">*</span>storyboard <span class="token operator">=</span> <span class="token punctuation">[</span>UIStoryboard storyboardWithName<span class="token punctuation">:</span><span class="token string">@"Main"</span> bundle<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>    TestViewController <span class="token operator">*</span>controller <span class="token operator">=</span> <span class="token punctuation">[</span>storyboard instantiateViewControllerWithIdentifier<span class="token punctuation">:</span><span class="token string">@"IdTest"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    controller<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">@"菠菜"</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>navigationController pushViewController<span class="token punctuation">:</span>controller animated<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">@end</span></code></pre><p>TestViewController中的Log部分不再赘述了。</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Storyboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android获取唯一设备ID解决方案</title>
      <link href="/2019/05/09/Android%E8%8E%B7%E5%8F%96%E5%94%AF%E4%B8%80%E8%AE%BE%E5%A4%87ID%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2019/05/09/Android%E8%8E%B7%E5%8F%96%E5%94%AF%E4%B8%80%E8%AE%BE%E5%A4%87ID%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<p>Android 获取唯一设备ID的方法挺多。但是都不完美，要不就是有的会随着恢复出厂设置改变。要不就是不是唯一，再或者取不到。这里把Android_id,SerialNumber和UniquePsuedoID结合在一起写了一个工具类。暂未发现取不到或者不唯一的情况<br>另包含获取设备常用信息的方法</p><h4 id="直接上代码"><a href="#直接上代码" class="headerlink" title="直接上代码"></a>直接上代码</h4><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarOnlyIdUtils</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getANDROID_ID</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>        String ANDROID_ID<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            ANDROID_ID <span class="token operator">=</span> Settings<span class="token punctuation">.</span>System<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Settings<span class="token punctuation">.</span>System<span class="token punctuation">.</span>ANDROID_ID<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>ANDROID_ID<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span>  ANDROID_ID<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getSerialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        String SerialNumber <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            SerialNumber <span class="token operator">=</span> Build<span class="token punctuation">.</span>SERIAL<span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>SerialNumber<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span>  SerialNumber<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getUniquePsuedoID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            String m_szDevIDShort <span class="token operator">=</span> <span class="token string">"35"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>BOARD<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>BRAND<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>CPU_ABI<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>DEVICE<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>MANUFACTURER<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>PRODUCT<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            String serial <span class="token operator">=</span> null<span class="token punctuation">;</span>            <span class="token keyword">try</span>            <span class="token punctuation">{</span>                serial <span class="token operator">=</span> Build<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">"SERIAL"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UUID</span><span class="token punctuation">(</span>m_szDevIDShort<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> serial<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                serial <span class="token operator">=</span> <span class="token string">"serial"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// some value</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UUID</span><span class="token punctuation">(</span>m_szDevIDShort<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> serial<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getOnlyID</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>        String onlyId <span class="token operator">=</span> <span class="token function">getANDROID_ID</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">getSerialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">getUniquePsuedoID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">getMD5Str</span><span class="token punctuation">(</span>onlyId<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> String <span class="token function">getMD5Str</span><span class="token punctuation">(</span>String str<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        MessageDigest messageDigest <span class="token operator">=</span> null<span class="token punctuation">;</span>        <span class="token keyword">try</span>        <span class="token punctuation">{</span>            messageDigest <span class="token operator">=</span> MessageDigest<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"MD5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            messageDigest<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            messageDigest<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchAlgorithmException</span> e<span class="token punctuation">)</span>        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//            System.out.println("NoSuchAlgorithmException caught!");</span>            System<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnsupportedEncodingException</span> e<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> byteArray <span class="token operator">=</span> messageDigest<span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        StringBuffer md5StrBuff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> byteArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token number">0xFF</span> <span class="token operator">&amp;</span> byteArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>                md5StrBuff<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token number">0xFF</span> <span class="token operator">&amp;</span> byteArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>                md5StrBuff<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token number">0xFF</span> <span class="token operator">&amp;</span> byteArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> md5StrBuff<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getSystemVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>RELEASE<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getDeviceBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        String brand <span class="token operator">=</span> Build<span class="token punctuation">.</span>BRAND<span class="token punctuation">;</span>        <span class="token keyword">return</span> brand<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getSystemModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        String model <span class="token operator">=</span> Build<span class="token punctuation">.</span>MODEL<span class="token punctuation">;</span>        <span class="token keyword">return</span> model<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getAppVersion</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>        PackageManager packageManager <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getPackageManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        PackageInfo packInfo <span class="token operator">=</span> null<span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            packInfo <span class="token operator">=</span> packageManager<span class="token punctuation">.</span><span class="token function">getPackageInfo</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PackageManager<span class="token punctuation">.</span>NameNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> packInfo<span class="token punctuation">.</span>versionName<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getDevice</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"app版本："</span><span class="token operator">+</span><span class="token function">getAppVersion</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span><span class="token operator">+</span><span class="token string">"手机品牌："</span><span class="token operator">+</span><span class="token function">getDeviceBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span><span class="token operator">+</span><span class="token string">"手机型号："</span><span class="token operator">+</span><span class="token function">getSystemModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span><span class="token operator">+</span><span class="token string">"Android系统版本号："</span><span class="token operator">+</span><span class="token function">getSystemVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span><span class="token operator">+</span><span class="token string">"onlyID："</span><span class="token operator">+</span><span class="token function">getOnlyID</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span>                <span class="token operator">+</span><span class="token string">"ANDROID_ID："</span><span class="token operator">+</span><span class="token function">getANDROID_ID</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span>                <span class="token operator">+</span><span class="token string">"SerialNumber："</span><span class="token operator">+</span><span class="token function">getSerialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span>                <span class="token operator">+</span><span class="token string">"UniquePsuedoID："</span><span class="token operator">+</span><span class="token function">getUniquePsuedoID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 安卓 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> utils </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决WebView上传图片无法调起</title>
      <link href="/2019/05/08/%E8%A7%A3%E5%86%B3WebView%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E8%B0%83%E8%B5%B7/"/>
      <url>/2019/05/08/%E8%A7%A3%E5%86%B3WebView%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E8%B0%83%E8%B5%B7/</url>
      
        <content type="html"><![CDATA[<p>最近要实现html中调起手机的相册上传图片功能。结果发现IOS可以正常调起来。android不行。经检验需要在原生代码中进行处理</p><h3 id="如图"><a href="#如图" class="headerlink" title="如图"></a>如图</h3><p><img src="/2019/05/08/解决WebView上传图片无法调起/QQ20190508-203059.png"></p><h3 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h3><p>java代码</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test1Activity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> WebView mWebView<span class="token punctuation">;</span>    <span class="token keyword">private</span> ValueCallback<span class="token operator">&lt;</span>Uri<span class="token operator">></span> mUploadMessage<span class="token punctuation">;</span>    <span class="token keyword">private</span> ValueCallback<span class="token operator">&lt;</span>Uri<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> uploadMessage<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> REQUEST_SELECT_FILE <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FILECHOOSER_RESULTCODE <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_test1<span class="token punctuation">)</span><span class="token punctuation">;</span>        String url <span class="token operator">=</span> <span class="token string">"http://172.30.12.106:8888/test1.html"</span><span class="token punctuation">;</span>        mWebView <span class="token operator">=</span> <span class="token punctuation">(</span>WebView<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>mWebView<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">initWebViewSetting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">initWebViewWebChromeClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mWebView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">initWebViewSetting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        WebSettings webSettings <span class="token operator">=</span> mWebView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        webSettings<span class="token punctuation">.</span><span class="token function">setJavaScriptEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        webSettings<span class="token punctuation">.</span><span class="token function">setUseWideViewPort</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        webSettings<span class="token punctuation">.</span><span class="token function">setLoadWithOverviewMode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        webSettings<span class="token punctuation">.</span><span class="token function">setDomStorageEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mWebView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setCacheMode</span><span class="token punctuation">(</span>WebSettings<span class="token punctuation">.</span>LOAD_NO_CACHE<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">initWebViewWebChromeClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        mWebView<span class="token punctuation">.</span><span class="token function">setWebChromeClient</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">MyWebChromeClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">class</span> <span class="token class-name">MyWebChromeClient</span> <span class="token keyword">extends</span>  <span class="token class-name">WebChromeClient</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// For 3.0+ Devices (Start)</span>        <span class="token comment" spellcheck="true">// onActivityResult attached before constructor</span>        <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">openFileChooser</span><span class="token punctuation">(</span>ValueCallback uploadMsg<span class="token punctuation">,</span> String acceptType<span class="token punctuation">)</span> <span class="token punctuation">{</span>            mUploadMessage <span class="token operator">=</span> uploadMsg<span class="token punctuation">;</span>            Intent i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_GET_CONTENT<span class="token punctuation">)</span><span class="token punctuation">;</span>            i<span class="token punctuation">.</span><span class="token function">addCategory</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>CATEGORY_OPENABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>            i<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"image/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">startActivityForResult</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span><span class="token function">createChooser</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"File Browser"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> FILECHOOSER_RESULTCODE<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// For Lollipop 5.0+ Devices</span>        <span class="token annotation punctuation">@TargetApi</span><span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>LOLLIPOP<span class="token punctuation">)</span>        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onShowFileChooser</span><span class="token punctuation">(</span>WebView mWebView<span class="token punctuation">,</span> ValueCallback<span class="token operator">&lt;</span>Uri<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> filePathCallback<span class="token punctuation">,</span> WebChromeClient<span class="token punctuation">.</span>FileChooserParams fileChooserParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>uploadMessage <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>                uploadMessage<span class="token punctuation">.</span><span class="token function">onReceiveValue</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>                uploadMessage <span class="token operator">=</span> null<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            uploadMessage <span class="token operator">=</span> filePathCallback<span class="token punctuation">;</span>            Intent intent <span class="token operator">=</span> fileChooserParams<span class="token punctuation">.</span><span class="token function">createIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                <span class="token function">startActivityForResult</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> REQUEST_SELECT_FILE<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ActivityNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                uploadMessage <span class="token operator">=</span> null<span class="token punctuation">;</span>                Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token function">getBaseContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Cannot Open File Chooser"</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LENGTH_LONG<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//For Android 4.1 only</span>        <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">openFileChooser</span><span class="token punctuation">(</span>ValueCallback<span class="token operator">&lt;</span>Uri<span class="token operator">></span> uploadMsg<span class="token punctuation">,</span> String acceptType<span class="token punctuation">,</span> String capture<span class="token punctuation">)</span> <span class="token punctuation">{</span>            mUploadMessage <span class="token operator">=</span> uploadMsg<span class="token punctuation">;</span>            Intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_GET_CONTENT<span class="token punctuation">)</span><span class="token punctuation">;</span>            intent<span class="token punctuation">.</span><span class="token function">addCategory</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>CATEGORY_OPENABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>            intent<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"image/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">startActivityForResult</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span><span class="token function">createChooser</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> <span class="token string">"File Browser"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> FILECHOOSER_RESULTCODE<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">///For Android &lt;3.0</span>        <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">openFileChooser</span><span class="token punctuation">(</span>ValueCallback<span class="token operator">&lt;</span>Uri<span class="token operator">></span> uploadMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>            mUploadMessage <span class="token operator">=</span> uploadMsg<span class="token punctuation">;</span>            Intent i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_GET_CONTENT<span class="token punctuation">)</span><span class="token punctuation">;</span>            i<span class="token punctuation">.</span><span class="token function">addCategory</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>CATEGORY_OPENABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>            i<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"image/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">startActivityForResult</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span><span class="token function">createChooser</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"File Chooser"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> FILECHOOSER_RESULTCODE<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onActivityResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token keyword">int</span> resultCode<span class="token punctuation">,</span> Intent data<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 系统大于5.0</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>LOLLIPOP<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> REQUEST_SELECT_FILE<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>uploadMessage <span class="token operator">==</span> null<span class="token punctuation">)</span>                    <span class="token keyword">return</span><span class="token punctuation">;</span>                uploadMessage<span class="token punctuation">.</span><span class="token function">onReceiveValue</span><span class="token punctuation">(</span>WebChromeClient<span class="token punctuation">.</span>FileChooserParams<span class="token punctuation">.</span><span class="token function">parseResult</span><span class="token punctuation">(</span>resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                uploadMessage <span class="token operator">=</span> null<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>requestCode <span class="token operator">==</span> FILECHOOSER_RESULTCODE<span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> mUploadMessage<span class="token punctuation">)</span>                    <span class="token keyword">return</span><span class="token punctuation">;</span>                Uri result <span class="token operator">=</span> data <span class="token operator">==</span> null <span class="token operator">||</span> resultCode <span class="token operator">!=</span> Activity<span class="token punctuation">.</span>RESULT_OK <span class="token operator">?</span> null <span class="token operator">:</span> data<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mUploadMessage<span class="token punctuation">.</span><span class="token function">onReceiveValue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>                mUploadMessage <span class="token operator">=</span> null<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mWebView<span class="token punctuation">.</span><span class="token function">removeAllViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mWebView<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>布局代码</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>app</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/tools<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.bocai.test.MainActivity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>WebView</span>        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/mWebView<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>WebView</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">></span></span></code></pre><p>HTML部分</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width; initial-scale<span class="token punctuation">=</span>1.0; maximum-scale<span class="token punctuation">=</span>1; user-scalable<span class="token punctuation">=</span>no;<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>no-cache<span class="token punctuation">"</span></span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pragma<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>no-cache<span class="token punctuation">"</span></span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cache-control<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>thu, 01 jan 1970 00:00:00 gmt<span class="token punctuation">"</span></span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>expires<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>上传test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    打开客户端本地文件选择页面    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image/*;<span class="token punctuation">"</span></span> <span class="token attr-name">capture</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>camera<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> WebView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何给单个TextView给部分文字设置不同的样式和点击效果</title>
      <link href="/2019/05/08/%E5%A6%82%E4%BD%95%E7%BB%99%E5%8D%95%E4%B8%AATextView%E7%BB%99%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%90%8C%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%92%8C%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C/"/>
      <url>/2019/05/08/%E5%A6%82%E4%BD%95%E7%BB%99%E5%8D%95%E4%B8%AATextView%E7%BB%99%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%90%8C%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%92%8C%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<h3 id="如图效果"><a href="#如图效果" class="headerlink" title="如图效果"></a>如图效果</h3><p><img src="/2019/05/08/如何给单个TextView给部分文字设置不同的样式和点击效果/SVID_20190508_094257_1.gif"></p><h3 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h3><p>java代码</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> TextView mTextView<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>        mTextView <span class="token operator">=</span> <span class="token punctuation">(</span>TextView<span class="token punctuation">)</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>mTextView<span class="token punctuation">)</span><span class="token punctuation">;</span>        String str1 <span class="token operator">=</span> <span class="token string">"点击文字1"</span><span class="token punctuation">;</span>        String str2 <span class="token operator">=</span> <span class="token string">"无点击效果文字"</span><span class="token punctuation">;</span>        String str3 <span class="token operator">=</span> <span class="token string">"点击文字2"</span><span class="token punctuation">;</span>        SpannableString spanttt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpannableString</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span>        SpannableString spansss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpannableString</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span><span class="token punctuation">;</span>        ClickableSpan click1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Str1ClickableSpan</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ClickableSpan click2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Str3ClickableSpan</span><span class="token punctuation">(</span>str3<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        spanttt<span class="token punctuation">.</span><span class="token function">setSpan</span><span class="token punctuation">(</span>click1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Spanned<span class="token punctuation">.</span>SPAN_INCLUSIVE_EXCLUSIVE<span class="token punctuation">)</span><span class="token punctuation">;</span>        spansss<span class="token punctuation">.</span><span class="token function">setSpan</span><span class="token punctuation">(</span>click2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> str3<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Spanned<span class="token punctuation">.</span>SPAN_INCLUSIVE_EXCLUSIVE<span class="token punctuation">)</span><span class="token punctuation">;</span>        mTextView<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>spanttt<span class="token punctuation">)</span><span class="token punctuation">;</span>        mTextView<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span>        mTextView<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>spansss<span class="token punctuation">)</span><span class="token punctuation">;</span>        mTextView<span class="token punctuation">.</span><span class="token function">setMovementMethod</span><span class="token punctuation">(</span>LinkMovementMethod<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/**     *     * str1的Span     */</span>    <span class="token keyword">class</span> <span class="token class-name">Str1ClickableSpan</span> <span class="token keyword">extends</span> <span class="token class-name">ClickableSpan</span> <span class="token punctuation">{</span>        String string<span class="token punctuation">;</span>        Context context<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token function">Str1ClickableSpan</span><span class="token punctuation">(</span>String str<span class="token punctuation">,</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>string <span class="token operator">=</span> str<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateDrawState</span><span class="token punctuation">(</span>TextPaint ds<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ds<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">"#366EFF"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ds<span class="token punctuation">.</span><span class="token function">setUnderlineText</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ds<span class="token punctuation">.</span><span class="token function">clearShadowLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View widget<span class="token punctuation">)</span> <span class="token punctuation">{</span>            Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"点击文字1被点击"</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mTextView<span class="token punctuation">.</span><span class="token function">setHighlightColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>color<span class="token punctuation">.</span>transparent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/**     *     *  str3的Span     */</span>    <span class="token keyword">class</span> <span class="token class-name">Str3ClickableSpan</span> <span class="token keyword">extends</span> <span class="token class-name">ClickableSpan</span> <span class="token punctuation">{</span>        String string<span class="token punctuation">;</span>        Context context<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token function">Str3ClickableSpan</span><span class="token punctuation">(</span>String str<span class="token punctuation">,</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>string <span class="token operator">=</span> str<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateDrawState</span><span class="token punctuation">(</span>TextPaint ds<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ds<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">"#366EFF"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ds<span class="token punctuation">.</span><span class="token function">setUnderlineText</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ds<span class="token punctuation">.</span><span class="token function">clearShadowLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View widget<span class="token punctuation">)</span> <span class="token punctuation">{</span>            Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"点击文字2被点击"</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mTextView<span class="token punctuation">.</span><span class="token function">setHighlightColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>color<span class="token punctuation">.</span>transparent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>布局代码</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>app</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/tools<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.bocai.test.MainActivity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/mTextView<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 安卓 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Charles抓包配置</title>
      <link href="/2019/05/07/Charles%E6%8A%93%E5%8C%85%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/05/07/Charles%E6%8A%93%E5%8C%85%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="1请下载并安装抓包软件Charles"><a href="#1请下载并安装抓包软件Charles" class="headerlink" title="1请下载并安装抓包软件Charles"></a>1请下载并安装抓包软件Charles</h3><p><img src="/2019/05/07/Charles抓包配置/c3b8305c5046ef5407c4d0d15abdf1d5.jpg" alt="logo"></p><h3 id="2查看本地ip地址"><a href="#2查看本地ip地址" class="headerlink" title="2查看本地ip地址"></a>2查看本地ip地址</h3><p><img src="/2019/05/07/Charles抓包配置/aaa.png" alt="logo"></p><p><img src="/2019/05/07/Charles抓包配置/eere.png" alt="logo"></p><p>如图我的本地ip地址为 192.168.43.52</p><h3 id="3打开手机设置代理"><a href="#3打开手机设置代理" class="headerlink" title="3打开手机设置代理"></a>3打开手机设置代理</h3><h4 id="ANDROID"><a href="#ANDROID" class="headerlink" title="ANDROID"></a>ANDROID</h4><p>设置</p><p><img src="/2019/05/07/Charles抓包配置/FD318F4B-8378-4AAF-982A-9A6F9C23F7AE.png" alt="logo"></p><p>无线网络</p><p><img src="/2019/05/07/Charles抓包配置/6F4329D2-22DD-430E-A46A-8C6E8722DCB2.png" alt="logo"></p><p>wifi设置</p><p><img src="/2019/05/07/Charles抓包配置/E1CAE4E0-6F55-45DD-88BF-8B6074382D40.png" alt="logo"></p><p>高级设置</p><p><img src="/2019/05/07/Charles抓包配置/425B0666-2044-4212-9F1F-3C83D7663D3F.png" alt="logo"></p><p>设置代理 代理ip为刚才电脑端的ip地址（根据自己电脑实际情况设置，我这里为 192.168.43.52）。端口号为8888(软件默认端口，不做修改)</p><p><img src="/2019/05/07/Charles抓包配置/D55041D8-DEDD-45BF-8513-B4B286834750.png" alt="logo"></p><h4 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h4><p>设置</p><p><img src="/2019/05/07/Charles抓包配置/384F2EC0-9A22-4BB7-B7E4-B672A03CA1E6.png" alt="logo"></p><p>无线网络</p><p><img src="/2019/05/07/Charles抓包配置/422C2DF4-E1F5-43F1-B4CC-38D2466A23E8.png" alt="logo"></p><p>设置代理 代理ip为刚才电脑端的ip地址（根据自己电脑实际情况设置，）。端口号为8888(软件默认端口，不做修改)</p><p><img src="/2019/05/07/Charles抓包配置/66C84C4A-CFF9-41C9-A471-A938944A0861.png" alt="logo"></p><h3 id="4打开软件Charles"><a href="#4打开软件Charles" class="headerlink" title="4打开软件Charles"></a>4打开软件Charles</h3><p><img src="/2019/05/07/Charles抓包配置/28E7C689-77D2-4698-8772-70B1EE7C55EC.png" alt="logo"></p><p><img src="/2019/05/07/Charles抓包配置/A524F0D4-30DF-429A-8B07-6A65445D0C87.png" alt="logo"></p><p><img src="/2019/05/07/Charles抓包配置/386ACDE8-6AAD-44A3-80DE-F5964B0761FF.png" alt="logo"></p><p>如图已经可以进行http数据抓包了</p><h3 id="5Https抓包"><a href="#5Https抓包" class="headerlink" title="5Https抓包"></a>5Https抓包</h3><p>首先需要确认已经进行了http请求抓取的设置。(能正常抓取http请求)<br>但是无法抓取https数据 如图</p><p><img src="/2019/05/07/Charles抓包配置/178851D5-84F2-47AE-906B-81D3FC94E871.png" alt="logo"></p><p>打开help 中的 SSL选项选择SSL Proxy Settings。点击如图所示</p><p><img src="/2019/05/07/Charles抓包配置/4518F55B-ECC8-4868-A5D5-1ADEC23AD4D4.png" alt="logo"></p><p>右键点击此证书并且信任</p><p><img src="/2019/05/07/Charles抓包配置/A711267D-FAE2-466B-BE1C-AB42108C51EB.png" alt="logo"></p><p><img src="/2019/05/07/Charles抓包配置/15B87FC6-098E-4F4E-9029-30188CDCAE1B.png" alt="logo"></p><p>手机下载证书</p><p><img src="/2019/05/07/Charles抓包配置/F0F7C0AB-BBC2-4014-BB7A-4B56F23C62C6.png" alt="logo"></p><p><img src="/2019/05/07/Charles抓包配置/2D21AA5E-3A0D-43D2-83B3-33C782B22301.png" alt="logo"></p><p>用手机访问此地址<br><img src="/2019/05/07/Charles抓包配置/7F3BD8C2-7727-4B1D-A890-BAEC71B2A2E2.png" alt="logo"></p><p>(ios用自带的safari浏览器打开下载安装证书即可)<br>(安卓的部分手机自带的浏览器无法下载安装此证书，好吧。。请下载谷歌浏览器尝试)<br>证书安装完毕。。打开Charles看一下。可以正常抓取https的请求数据</p><p><img src="/2019/05/07/Charles抓包配置/5A01BA4A-C53A-48A3-AD12-14C615A2B6DA.png" alt="logo"></p><h4 id="关于ios-11系统无法抓取https的问题。请执行完上述所有操作以后-打开设置。通用关于本机里面的证书信任。信任一下上一步安装的证书即可"><a href="#关于ios-11系统无法抓取https的问题。请执行完上述所有操作以后-打开设置。通用关于本机里面的证书信任。信任一下上一步安装的证书即可" class="headerlink" title="关于ios 11系统无法抓取https的问题。请执行完上述所有操作以后 打开设置。通用关于本机里面的证书信任。信任一下上一步安装的证书即可"></a><label style="color:red">关于ios 11系统无法抓取https的问题。请执行完上述所有操作以后 打开设置。通用关于本机里面的证书信任。信任一下上一步安装的证书即可</label></h4>]]></content>
      
      
      <categories>
          
          <category> 其他 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BeyondCompare无限试用方法</title>
      <link href="/2019/05/07/BeyondCompare%E6%97%A0%E9%99%90%E8%AF%95%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2019/05/07/BeyondCompare%E6%97%A0%E9%99%90%E8%AF%95%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h4 id="打开如下目录。删除registry-dat文件即可"><a href="#打开如下目录。删除registry-dat文件即可" class="headerlink" title="打开如下目录。删除registry.dat文件即可"></a>打开如下目录。删除registry.dat文件即可</h4><p><img src="https://github.com/qizhezhukanhai/Python3CrawlerTest/blob/master/imgs/2.png?raw=true" alt="我是图片"></p><p>备注 浮层Beyond Compare 下载地址: <a href="https://pan.baidu.com/s/1qdVHPKq53hEDAMasQkFSMg" target="_blank" rel="noopener">https://pan.baidu.com/s/1qdVHPKq53hEDAMasQkFSMg</a> 提取码: autj </p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>怎么禁止浮层div底层的div滑动</title>
      <link href="/2019/05/07/%E6%80%8E%E4%B9%88%E7%A6%81%E6%AD%A2%E6%B5%AE%E5%B1%82div%E5%BA%95%E5%B1%82%E7%9A%84div%E6%BB%91%E5%8A%A8/"/>
      <url>/2019/05/07/%E6%80%8E%E4%B9%88%E7%A6%81%E6%AD%A2%E6%B5%AE%E5%B1%82div%E5%BA%95%E5%B1%82%E7%9A%84div%E6%BB%91%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h4 id="最近做了一个包含浮层的客户端h5页面。但是发现当浮层显示以后-底部的页面-div-还是可以滚动。"><a href="#最近做了一个包含浮层的客户端h5页面。但是发现当浮层显示以后-底部的页面-div-还是可以滚动。" class="headerlink" title="最近做了一个包含浮层的客户端h5页面。但是发现当浮层显示以后 底部的页面(div)还是可以滚动。"></a>最近做了一个包含浮层的客户端h5页面。但是发现当浮层显示以后 底部的页面(div)还是可以滚动。</h4><p>解决方案： 给浮层的div <label style="color:red">@touchmove.prevent</label>添加即可  </p><p>备注：尝试发现改方法无法屏蔽鼠标的滚轮 鼠标的滚轮滚动需使用<label style="color:red">@scroll.prevent</label>即可</p><p>参考伪代码：（vue）</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>showAlert<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>supernatantAll<span class="token punctuation">"</span></span> <span class="token attr-name">@touchmove.prevent</span><span class="token punctuation">></span></span>>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>supernatant<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>supClose<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../assets/sup_close_icon.png<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
